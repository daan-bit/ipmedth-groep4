import{R as o,j as a,a as e,d as D,F as M}from"./app.a6e55d00.js";/* empty css               */import{H as V}from"./GroupModel.b4ace018.js";import"./ResponsiveNavLink.b761788b.js";import"./adminSettings.fa4cb93a.js";import"./PrimaryButton.fa37a4cd.js";import"./TextInput.c6746d9e.js";/* empty css              */import"./InputError.7d4fbe24.js";function $({closeModel:t,school_id:g}){const _=o.useRef(),[h,n]=o.useState(!1),[s,m]=o.useState(!1),[i,d]=o.useState(!1),[c,u]=o.useState(!1),[r,p]=o.useState(!1),f=()=>{const v=new FormData(_.current);return Object.fromEntries(v)};return a("div",{className:"group__modal",children:[e("div",{className:"group__modal__overlay",onClick:t}),a("div",{className:"group__modal__content",children:[a("div",{className:"group__modal__header",children:[e("h2",{className:"group__modal__title",children:"Nieuwe docent"}),e("button",{className:"group__modal__closeButton",onClick:t,children:"X"})]}),e("div",{className:"group__modal__body",children:a("form",{className:"group__modal__form",name:"teacherModelForm",ref:_,children:[a("div",{className:"group__modal__form__group",children:[e("label",{htmlFor:"username",children:"Gebruikersnaam"}),e("input",{type:"text",name:"username",id:"username",className:"group__modal__form__input"}),h&&e("div",{className:"group__modal__form__error",children:e("p",{children:h})})]}),a("div",{className:"group__modal__form__group",children:[e("label",{htmlFor:"lastname",children:"Achternaam"}),e("input",{type:"text",name:"lastname",id:"lastname",className:"group__modal__form__input"}),s&&e("div",{className:"group__modal__form__error",children:e("p",{children:s})})]}),a("div",{className:"group__modal__form__group",children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{type:"email",name:"email",id:"email",className:"group__modal__form__input"}),i&&e("div",{className:"group__modal__form__error",children:e("p",{children:i})})]}),a("div",{className:"group__modal__form__group",children:[e("label",{htmlFor:"password",children:"Wachtwoord"}),e("input",{type:"password",name:"password",id:"password",className:"group__modal__form__input"}),c&&e("div",{className:"group__modal__form__error",children:e("p",{children:c})})]}),a("div",{className:"group__modal__form__group",children:[e("label",{htmlFor:"password_confirmation",children:"Wachtwoord bevestigen"}),e("input",{type:"password",name:"password_confirmation",id:"password_confirmation",className:"group__modal__form__input"}),r&&e("div",{className:"group__modal__form__error",children:e("p",{children:r})})]})]})}),e("div",{className:"group__modal__footer",children:e("button",{className:"group__modal__submit button-primary",onClick:v=>{v.preventDefault();const{username:k,lastname:C,email:S,password:N,password_confirmation:y}=f();n(!1),m(!1),d(!1),u(!1),p(!1);const T=k.match(/^[a-zA-Z0-9]{3,}$/),A=C.match(/^[a-zA-Z0-9 ]{3,}$/),l=S.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),b=N.match(/^[a-zA-Z0-9]{8,}$/),w=y===N;T||n("De gebruikersnaam moet minimaal 3 karakters bevatten"),A||m("De achternaam moet minimaal 3 karakters bevatten"),l||d("Het emailadres is niet geldig"),b||u("Het wachtwoord moet minimaal 8 karakters bevatten"),w||p("De wachtwoorden komen niet overeen"),T&&A&&l&&b&&w&&(D.Inertia.post("/docent",{username:k,lastname:C,email:S,password:N,school_id:g}),t())},as:"button",children:"Toevoegen"})})]})]})}function x({closeModel:t,current_username:g,current_lastname:_,current_email:h,user_id:n}){const s=o.useRef(),[m,i]=o.useState(!1),[d,c]=o.useState(!1),[u,r]=o.useState(!1),[p,f]=o.useState(!1),[E,v]=o.useState(g),[k,C]=o.useState(_),[S,N]=o.useState(h),y=()=>{const l=new FormData(s.current);return Object.fromEntries(l)};return a("div",{className:"group__modal",children:[e("div",{className:"group__modal__overlay",onClick:t}),e("div",{className:"group__modal__content",children:p?a("div",{className:"group__modal__deleteConfirmation",children:[e("h2",{className:"group__modal__deleteTitle",children:"Weet je zeker dat je deze docent wilt verwijderen?"}),a("div",{className:"group__modal__deleteConfirmation__buttons",children:[e("button",{className:"group__modal__deleteConfirmation__button group__modal__deleteConfirmation__button--cancel",onClick:()=>f(!1),children:"Annuleer"}),e("button",{className:"group__modal__deleteConfirmation__button group__modal__deleteConfirmation__button--confirm",onClick:()=>{D.Inertia.delete(`/docent/${n}`),t()},children:"Verwijder docent"})]})]}):a(M,{children:[a("div",{className:"group__modal__header",children:[e("h2",{className:"group__modal__title",children:"Nieuwe docent"}),e("button",{className:"group__modal__closeButton",onClick:t,children:"X"})]}),e("div",{className:"group__modal__body",children:a("form",{className:"group__modal__form",name:"teacherModelForm",ref:s,children:[a("div",{className:"group__modal__form__group",children:[e("label",{htmlFor:"username",children:"Gebruikersnaam"}),e("input",{type:"text",name:"username",id:"username",className:"group__modal__form__input",value:E,onChange:l=>v(l.target.value)}),m&&e("div",{className:"group__modal__form__error",children:e("p",{children:m})})]}),a("div",{className:"group__modal__form__group",children:[e("label",{htmlFor:"lastname",children:"Achternaam"}),e("input",{type:"text",name:"lastname",id:"lastname",className:"group__modal__form__input",value:k,onChange:l=>C(l.target.value)}),d&&e("div",{className:"group__modal__form__error",children:e("p",{children:d})})]}),a("div",{className:"group__modal__form__group",children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{type:"email",name:"email",id:"email",className:"group__modal__form__input",value:S,onChange:l=>N(l.target.value)}),u&&e("div",{className:"group__modal__form__error",children:e("p",{children:u})})]})]})}),a("div",{className:"group__modal__footer",children:[e("button",{className:"group__modal__delete button-secondary",onClick:()=>f(!0),as:"button",children:"Verwijder docent"}),e("button",{className:"group__modal__submit button-primary",onClick:l=>{l.preventDefault();const{username:b,lastname:w,email:F}=y();i(!1),c(!1),r(!1);const z=b.match(/^[a-zA-Z0-9]{3,}$/),j=w.match(/^[a-zA-Z0-9 ]{3,}$/),I=F.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);z||i("De gebruikersnaam moet minimaal 3 karakters bevatten"),j||c("De achternaam moet minimaal 3 karakters bevatten"),I||r("Het emailadres is niet geldig"),z&&j&&I&&(D.Inertia.put(`/docent/${n}`,{username:b,lastname:w,email:F}),t())},as:"button",children:"Wijzig docent"})]})]})})]})}function P(t){const[g,_]=o.useState(!1),[h,n]=o.useState(!1),[s,m]=o.useState(null),i=r=>{r.preventDefault(),_(!0)},d=()=>{_(!1)},c=(r,p,f,E)=>{m({username:r,lastname:p,email:f,user_id:E}),n(!0)},u=()=>{n(!1)};return a("section",{className:"adminOverview",children:[e(V,{first_name:t.employee.first_name}),a("div",{className:"page__title__wrapper",children:[e("h1",{className:"page__title",children:"Overzicht"}),e("button",{className:"addTeacher__button",onClick:r=>i(r),children:"+ Voeg docent toe"})]}),g?e($,{closeModel:d,school_id:t.employee.school_id}):null,e("section",{className:"teachers__overview",children:t.teachers.length===0?e("div",{className:"teachers__overview__noTeachers",children:e("p",{className:"teachers__overview__noTeachers__text",children:"Je hebt nog geen groepen, voeg er een toe!"})}):a("div",{className:"teachers__overview__teachers",children:[h?e(x,{closeModel:u,current_username:s.username,current_lastname:s.lastname,current_email:s.email,user_id:s.user_id}):null,t.teachers.map(r=>a("div",{className:"teacher__card",children:[a("div",{className:"teacher__card__header",children:[e("h2",{className:"teacher__card__title",children:r.first_name}),e("button",{className:"teacher__card__edit__button",onClick:()=>c(r.first_name,r.last_name,r.email,r.user_id),children:e("span",{className:"material-symbols-outlined",children:"more_vert"})}),e("div",{className:"teacher__card__line"})]}),e("div",{className:"teacher__card__body",children:a("p",{className:"teacher__card__body__students__text",children:[r.group_count," ",r.group_count===1?"groep":"groepen"]})})]},r.id))]})})]})}export{P as default};
